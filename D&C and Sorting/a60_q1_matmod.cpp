#include<bits/stdc++.h>
using namespace std;
int bi[31],k,n,a,b,c,d;
int A[31][2][2],B[2][2];
int ans[2][2]={1,0,0,1};
main(){
  cin>>n>>k; bi[0]=1;
  for(int i=1;i<=30;++i){
    bi[i]=bi[i-1]*2;
  }
  cin>>a>>b>>c>>d;
  a%=k; b%=k; c%=k; d%=k;
  A[0][0][0]=a;
  A[0][0][1]=b;
  A[0][1][0]=c;
  A[0][1][1]=d;
  for(int i=1;i<=30;++i){
    B[0][0]=A[i-1][0][0]*A[i-1][0][0]+A[i-1][0][1]*A[i-1][1][0];
    B[0][1]=A[i-1][0][0]*A[i-1][0][1]+A[i-1][0][1]*A[i-1][1][1];
    B[1][0]=A[i-1][1][0]*A[i-1][0][0]+A[i-1][1][1]*A[i-1][1][0];
    B[1][1]=A[i-1][1][0]*A[i-1][0][1]+A[i-1][1][1]*A[i-1][1][1];
    A[i][0][0]=B[0][0]%k;
    A[i][0][1]=B[0][1]%k;
    A[i][1][0]=B[1][0]%k;
    A[i][1][1]=B[1][1]%k;
  }
  while(n>0){
    for(int i=30;i>=0;--i){
      if(n>=bi[i]){
        B[0][0]=ans[0][0]*A[i][0][0]+ans[0][1]*A[i][1][0];
        B[0][1]=ans[0][0]*A[i][0][1]+ans[0][1]*A[i][1][1];
        B[1][0]=ans[1][0]*A[i][0][0]+ans[1][1]*A[i][1][0];
        B[1][1]=ans[1][0]*A[i][0][1]+ans[1][1]*A[i][1][1];
        ans[0][0]=B[0][0]%k;
        ans[0][1]=B[0][1]%k;
        ans[1][0]=B[1][0]%k;
        ans[1][1]=B[1][1]%k;
        n=n-bi[i]; break;
      }
    }
  }
  printf("%d %d %d %d",ans[0][0],ans[0][1],ans[1][0],ans[1][1]);
}
